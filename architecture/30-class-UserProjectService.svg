<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="CLASS" height="737px" preserveAspectRatio="none" style="width:988px;height:737px;background:#F0F0F0;" version="1.1" viewBox="0 0 988 737" width="988px" zoomAndPan="magnify"><title>30-class-UserProjectService / static structure</title><defs/><g><rect fill="#F0F0F0" height="737" style="stroke:none;stroke-width:1;" width="988" x="0" y="0"/><g class="title" data-source-line="2"><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="312.1428" x="331.2817" y="24.9659">30-class-UserProjectService / static structure</text></g><!--cluster app--><g class="cluster" data-entity="app" data-source-line="6" data-uid="ent0004" id="cluster_app"><path d="M8.5,46.6699 L35.6799,46.6699 A3.75,3.75 0 0 1 38.1799,49.1699 L45.1799,71.7378 L657.5,71.7378 A2.5,2.5 0 0 1 660,74.2378 L660,728.1699 A2.5,2.5 0 0 1 657.5,730.6699 L8.5,730.6699 A2.5,2.5 0 0 1 6,728.1699 L6,49.1699 A2.5,2.5 0 0 1 8.5,46.6699" fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="6" x2="45.1799" y1="71.7378" y2="71.7378"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="26.1799" x="10" y="63.6358">app</text></g><!--cluster services--><g class="cluster" data-entity="services" data-source-line="5" data-uid="ent0002" id="cluster_services"><path d="M194.5,92.6699 L251.7518,92.6699 A3.75,3.75 0 0 1 254.2518,95.1699 L261.2518,117.7378 L633.5,117.7378 A2.5,2.5 0 0 1 636,120.2378 L636,263.1699 A2.5,2.5 0 0 1 633.5,265.6699 L194.5,265.6699 A2.5,2.5 0 0 1 192,263.1699 L192,95.1699 A2.5,2.5 0 0 1 194.5,92.6699" fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="192" x2="261.2518" y1="117.7378" y2="117.7378"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="56.2518" x="196" y="109.6358">services</text></g><!--cluster repositories--><g class="cluster" data-entity="repositories" data-source-line="13" data-uid="ent0005" id="cluster_repositories"><path d="M32.5,316.6699 L117.4857,316.6699 A3.75,3.75 0 0 1 119.9857,319.1699 L126.9857,341.7378 L463.5,341.7378 A2.5,2.5 0 0 1 466,344.2378 L466,468.1699 A2.5,2.5 0 0 1 463.5,470.6699 L32.5,470.6699 A2.5,2.5 0 0 1 30,468.1699 L30,319.1699 A2.5,2.5 0 0 1 32.5,316.6699" fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="30" x2="126.9857" y1="341.7378" y2="341.7378"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="83.9857" x="34" y="333.6358">repositories</text></g><!--cluster core--><g class="cluster" data-entity="core" data-source-line="20" data-uid="ent0007" id="cluster_core"><path d="M492.5,336.1699 L523.9919,336.1699 A3.75,3.75 0 0 1 526.4919,338.6699 L533.4919,361.2378 L633.5,361.2378 A2.5,2.5 0 0 1 636,363.7378 L636,448.6699 A2.5,2.5 0 0 1 633.5,451.1699 L492.5,451.1699 A2.5,2.5 0 0 1 490,448.6699 L490,338.6699 A2.5,2.5 0 0 1 492.5,336.1699" fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="490" x2="533.4919" y1="361.2378" y2="361.2378"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="30.4919" x="494" y="353.1358">core</text></g><!--cluster models--><g class="cluster" data-entity="models" data-source-line="25" data-uid="ent0011" id="cluster_models"><path d="M162.5,521.6699 L214.2778,521.6699 A3.75,3.75 0 0 1 216.7778,524.1699 L223.7778,546.7378 L333.5,546.7378 A2.5,2.5 0 0 1 336,549.2378 L336,704.1699 A2.5,2.5 0 0 1 333.5,706.6699 L162.5,706.6699 A2.5,2.5 0 0 1 160,704.1699 L160,524.1699 A2.5,2.5 0 0 1 162.5,521.6699" fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="160" x2="223.7778" y1="546.7378" y2="546.7378"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="50.7778" x="164" y="538.6358">models</text></g><!--cluster orm--><g class="cluster" data-entity="orm" data-source-line="24" data-uid="ent0009" id="cluster_orm"><path d="M186.5,567.6699 L216.2699,567.6699 A3.75,3.75 0 0 1 218.7699,570.1699 L225.7699,592.7378 L309.5,592.7378 A2.5,2.5 0 0 1 312,595.2378 L312,680.1699 A2.5,2.5 0 0 1 309.5,682.6699 L186.5,682.6699 A2.5,2.5 0 0 1 184,680.1699 L184,570.1699 A2.5,2.5 0 0 1 186.5,567.6699" fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="184" x2="225.7699" y1="592.7378" y2="592.7378"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="28.7699" x="188" y="584.6358">orm</text></g><!--class UserProjectService--><g class="entity" data-entity="UserProjectService" data-source-line="6" data-uid="ent0003" id="entity_UserProjectService"><rect fill="#F1F1F1" height="118.6158" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="411.8105" x="208" y="130.6699"/><ellipse cx="347.9925" cy="153.3759" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M350.9612,159.0165 Q350.3831,159.3134 349.7425,159.454 Q349.1019,159.6103 348.3987,159.6103 Q345.8987,159.6103 344.5706,157.9697 Q343.2581,156.3134 343.2581,153.1884 Q343.2581,150.0634 344.5706,148.4072 Q345.8987,146.7509 348.3987,146.7509 Q349.1019,146.7509 349.7425,146.9072 Q350.3987,147.0634 350.9612,147.3603 L350.9612,150.079 Q350.3362,149.5009 349.7425,149.2353 Q349.1487,148.954 348.5237,148.954 Q347.18,148.954 346.4925,150.0322 Q345.805,151.0947 345.805,153.1884 Q345.805,155.2822 346.4925,156.3603 Q347.18,157.4228 348.5237,157.4228 Q349.1487,157.4228 349.7425,157.1572 Q350.3362,156.8759 350.9612,156.2978 L350.9612,159.0165 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="47.5203" x="406.3951" y="148.498">&#171;service&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123.3255" x="368.4925" y="166.9799">UserProjectService</text><line style="stroke:#181818;stroke-width:0.5;" x1="209" x2="618.8105" y1="176.0819" y2="176.0819"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="216" y="188.1159"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="206.9612" x="228" y="195.0479">project_repo: ProjectRepository</text><line style="stroke:#181818;stroke-width:0.5;" x1="209" x2="618.8105" y1="203.1498" y2="203.1498"/><ellipse cx="219" cy="218.1838" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="261.155" x="228" y="222.1158">__init__(project_repo: ProjectRepository)</text><ellipse cx="219" cy="237.2517" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="385.8105" x="228" y="241.1837">list_projects_for_user(ctx: UserContext) : Sequence[Project]</text></g><!--class ProjectRepository--><g class="entity" data-entity="ProjectRepository" data-source-line="14" data-uid="ent0006" id="entity_ProjectRepository"><rect fill="#F1F1F1" height="99.5479" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="403.6765" x="46" y="354.6699"/><ellipse cx="185.3625" cy="377.3759" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M188.3312,383.0165 Q187.7531,383.3134 187.1125,383.454 Q186.4719,383.6103 185.7687,383.6103 Q183.2687,383.6103 181.9406,381.9697 Q180.6281,380.3134 180.6281,377.1884 Q180.6281,374.0634 181.9406,372.4072 Q183.2687,370.7509 185.7687,370.7509 Q186.4719,370.7509 187.1125,370.9072 Q187.7687,371.0634 188.3312,371.3603 L188.3312,374.079 Q187.7062,373.5009 187.1125,373.2353 Q186.5187,372.954 185.8937,372.954 Q184.55,372.954 183.8625,374.0322 Q183.175,375.0947 183.175,377.1884 Q183.175,379.2822 183.8625,380.3603 Q184.55,381.4228 185.8937,381.4228 Q186.5187,381.4228 187.1125,381.1572 Q187.7062,380.8759 188.3312,380.2978 L188.3312,383.0165 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="65.3164" x="231.4301" y="372.498">&#171;repository&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.4516" x="205.8625" y="390.9799">ProjectRepository</text><line style="stroke:#181818;stroke-width:0.5;" x1="47" x2="448.6765" y1="400.0819" y2="400.0819"/><line style="stroke:#181818;stroke-width:0.5;" x1="47" x2="448.6765" y1="408.0819" y2="408.0819"/><ellipse cx="57" cy="423.1159" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128.5335" x="66" y="427.0479">__init__(db: Session)</text><ellipse cx="57" cy="442.1838" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="377.6765" x="66" y="446.1158">list_projects_for_tenant(tenant_id: int) : Sequence[Project]</text></g><!--class UserContext--><g class="entity" data-entity="UserContext" data-source-line="21" data-uid="ent0008" id="entity_UserContext"><rect fill="#F1F1F1" height="61.412" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="113.9977" x="506" y="374.1699"/><ellipse cx="521" cy="396.8759" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M523.9688,402.5165 Q523.3906,402.8134 522.75,402.954 Q522.1094,403.1103 521.4063,403.1103 Q518.9063,403.1103 517.5781,401.4697 Q516.2656,399.8134 516.2656,396.6884 Q516.2656,393.5634 517.5781,391.9072 Q518.9063,390.2509 521.4063,390.2509 Q522.1094,390.2509 522.75,390.4072 Q523.4063,390.5634 523.9688,390.8603 L523.9688,393.579 Q523.3438,393.0009 522.75,392.7353 Q522.1563,392.454 521.5313,392.454 Q520.1875,392.454 519.5,393.5322 Q518.8125,394.5947 518.8125,396.6884 Q518.8125,398.7822 519.5,399.8603 Q520.1875,400.9228 521.5313,400.9228 Q522.1563,400.9228 522.75,400.6572 Q523.3438,400.3759 523.9688,399.7978 L523.9688,402.5165 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="50.3403" x="550.8287" y="391.998">&#171;context&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81.9977" x="535" y="410.4799">UserContext</text><line style="stroke:#181818;stroke-width:0.5;" x1="507" x2="618.9977" y1="419.5819" y2="419.5819"/><line style="stroke:#181818;stroke-width:0.5;" x1="507" x2="618.9977" y1="427.5819" y2="427.5819"/></g><!--class Project--><g class="entity" data-entity="Project" data-source-line="25" data-uid="ent0010" id="entity_Project"><rect fill="#F1F1F1" height="61.412" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="94.6605" x="200.5" y="605.6699"/><ellipse cx="215.5" cy="628.3759" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M218.4688,634.0165 Q217.8906,634.3134 217.25,634.454 Q216.6094,634.6103 215.9063,634.6103 Q213.4063,634.6103 212.0781,632.9697 Q210.7656,631.3134 210.7656,628.1884 Q210.7656,625.0634 212.0781,623.4072 Q213.4063,621.7509 215.9063,621.7509 Q216.6094,621.7509 217.25,621.9072 Q217.9063,622.0634 218.4688,622.3603 L218.4688,625.079 Q217.8438,624.5009 217.25,624.2353 Q216.6563,623.954 216.0313,623.954 Q214.6875,623.954 214,625.0322 Q213.3125,626.0947 213.3125,628.1884 Q213.3125,630.2822 214,631.3603 Q214.6875,632.4228 216.0313,632.4228 Q216.6563,632.4228 217.25,632.1572 Q217.8438,631.8759 218.4688,631.2978 L218.4688,634.0165 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="66.6605" x="227.5" y="623.498">&#171;aggregate&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46.0038" x="237.8283" y="641.9799">Project</text><line style="stroke:#181818;stroke-width:0.5;" x1="201.5" x2="294.1605" y1="651.0819" y2="651.0819"/><line style="stroke:#181818;stroke-width:0.5;" x1="201.5" x2="294.1605" y1="659.0819" y2="659.0819"/></g><g class="entity" data-entity="GMN15" data-source-line="33" data-uid="ent0016" id="entity_GMN15"><path d="M676.5,176.1699 L676.5,186.1699 L620.1,190.1699 L676.5,194.1699 L676.5,203.8759 A0,0 0 0 0 676.5,203.8759 L969.9022,203.8759 A0,0 0 0 0 969.9022,203.8759 L969.9022,186.1699 L959.9022,176.1699 L676.5,176.1699 A0,0 0 0 0 676.5,176.1699" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M959.9022,176.1699 L959.9022,186.1699 L969.9022,186.1699 L959.9022,176.1699" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="272.4022" x="682.5" y="195.0669">Source: app/services/user_project_service.py</text></g><g class="entity" data-entity="GMN18" data-source-line="37" data-uid="ent0019" id="entity_GMN18"><path d="M676.5,390.6699 L676.5,418.3759 L981.7062,418.3759 L981.7062,400.6699 L971.7062,390.6699 L676.5,390.6699" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M971.7062,390.6699 L971.7062,400.6699 L981.7062,400.6699 L971.7062,390.6699" fill="#FEFFDD" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="284.2062" x="682.5" y="409.5669">Source: app/repositories/project_repository.py</text></g><!--link UserProjectService to ProjectRepository--><g class="link" data-entity-1="UserProjectService" data-entity-2="ProjectRepository" data-source-line="28" data-uid="lnk12" id="link_UserProjectService_ProjectRepository"><path codeLine="28" d="M368.2,249.7999 C342.48,282.7199 314.444,318.6119 290.044,349.8419" fill="none" id="UserProjectService-to-ProjectRepository" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="286.35,354.5699,295.043,349.9405,289.4283,350.6299,288.739,345.0152,286.35,354.5699" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27.82" x="341" y="296.5669">uses</text></g><!--link UserProjectService to UserContext--><g class="link" data-entity-1="UserProjectService" data-entity-2="UserContext" data-source-line="29" data-uid="lnk13" id="link_UserProjectService_UserContext"><path codeLine="29" d="M455.11,249.7999 C483.36,290.0899 516.2449,336.9975 538.7149,369.0375" fill="none" id="UserProjectService-to-UserContext" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="542.16,373.9499,540.2673,364.2846,539.2891,369.8563,533.7174,368.8781,542.16,373.9499" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="224.0292" x="489" y="296.5669">consumes (ctx.tenant_id, ctx.user_id)</text></g><!--link ProjectRepository to Project--><g class="link" data-entity-1="ProjectRepository" data-entity-2="Project" data-source-line="30" data-uid="lnk14" id="link_ProjectRepository_Project"><path codeLine="30" d="M248,454.8999 C248,500.7399 248,561.5399 248,599.6399" fill="none" id="ProjectRepository-to-Project" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="248,605.6399,252,596.6399,248,600.6399,244,596.6399,248,605.6399" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45.058" x="249" y="501.5669">returns</text></g><!--link ProjectRepository to GMN18--><g class="link" data-entity-1="ProjectRepository" data-entity-2="GMN18" data-source-line="37" data-uid="lnk20" id="link_ProjectRepository_GMN18"><path d="M326.85,354.4899 C401.42,313.2499 516.75,265.4899 618.5,291.1699 C695.79,310.6799 775.55,364.7699 810.6,390.5899" fill="none" id="ProjectRepository-GMN18" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/></g><!--SRC=[bL9BJyCm3BxdLrXmsGJjaBXLg0Vs1n0J9uIYa7ebh4kAxQ9DYFzE-jYqHn52FQHkFt-FsEAaGhYzIMnbc9CdHdgWy8vM5aYVpYBCWCM8i_6Wnaf3g7ZbV6t8hE7Us5L9eV75F5I1u79vqpvArV67AH4kJ5sdt5Fn1NmfW4u9HfJkxWPWddT0W0Jg7g89wv31qF0O2tOIQDkXha1hvvreFVa3FXtmbMFH0vRrCf1kelJ4oYRhZCs35zp8539Ou4U3tkBpGFOIARxLzqb2sacuuvHd3cB8FNQxptcGe7XjDPbTyB-x5VJ6owG_j2ioSFuVRcqWF9t543dwi_rRdf_rhKE15QU1rYCPOwSfIyBI2FQz8oDEadpaJZA8ryzZ-3JDZznb4DrniqQ6Tbhf_WQkeItRASPYgiurMgQTqmm8uo9xLie7GI1NlWc4vSXIgaLeo686CVzijyUpJcUtQyFNjDugz0MqZAUyvtjxI7kuFBF33UwnHyG_]--></g></svg>