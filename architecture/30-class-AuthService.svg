<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="CLASS" height="870px" preserveAspectRatio="none" style="width:1765px;height:870px;background:#F0F0F0;" version="1.1" viewBox="0 0 1765 870" width="1765px" zoomAndPan="magnify"><title>30-class-AuthService / static structure</title><defs/><g><rect fill="#F0F0F0" height="870" style="stroke:none;stroke-width:1;" width="1765" x="0" y="0"/><g class="title" data-source-line="1"><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="264.473" x="743.4801" y="24.9659">30-class-AuthService / static structure</text></g><!--cluster app--><g class="cluster" data-entity="app" data-source-line="5" data-uid="ent0004" id="cluster_app"><path d="M8.5,46.6699 L35.6799,46.6699 A3.75,3.75 0 0 1 38.1799,49.1699 L45.1799,71.7378 L1438.5,71.7378 A2.5,2.5 0 0 1 1441,74.2378 L1441,861.1699 A2.5,2.5 0 0 1 1438.5,863.6699 L8.5,863.6699 A2.5,2.5 0 0 1 6,861.1699 L6,49.1699 A2.5,2.5 0 0 1 8.5,46.6699" fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="6" x2="45.1799" y1="71.7378" y2="71.7378"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="26.1799" x="10" y="63.6358">app</text></g><!--cluster services--><g class="cluster" data-entity="services" data-source-line="4" data-uid="ent0002" id="cluster_services"><path d="M808.5,92.6699 L865.7518,92.6699 A3.75,3.75 0 0 1 868.2518,95.1699 L875.2518,117.7378 L1203.5,117.7378 A2.5,2.5 0 0 1 1206,120.2378 L1206,263.1699 A2.5,2.5 0 0 1 1203.5,265.6699 L808.5,265.6699 A2.5,2.5 0 0 1 806,263.1699 L806,95.1699 A2.5,2.5 0 0 1 808.5,92.6699" fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="806" x2="875.2518" y1="117.7378" y2="117.7378"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="56.2518" x="810" y="109.6358">services</text></g><!--cluster repositories--><g class="cluster" data-entity="repositories" data-source-line="12" data-uid="ent0005" id="cluster_repositories"><path d="M32.5,335.6699 L117.4857,335.6699 A3.75,3.75 0 0 1 119.9857,338.1699 L126.9857,360.7378 L371.5,360.7378 A2.5,2.5 0 0 1 374,363.2378 L374,487.1699 A2.5,2.5 0 0 1 371.5,489.6699 L32.5,489.6699 A2.5,2.5 0 0 1 30,487.1699 L30,338.1699 A2.5,2.5 0 0 1 32.5,335.6699" fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="30" x2="126.9857" y1="360.7378" y2="360.7378"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="83.9857" x="34" y="352.6358">repositories</text></g><!--cluster models--><g class="cluster" data-entity="models" data-source-line="20" data-uid="ent0009" id="cluster_models"><path d="M350.5,559.6699 L402.2778,559.6699 A3.75,3.75 0 0 1 404.7778,562.1699 L411.7778,584.7378 L1151.5,584.7378 A2.5,2.5 0 0 1 1154,587.2378 L1154,837.1699 A2.5,2.5 0 0 1 1151.5,839.6699 L350.5,839.6699 A2.5,2.5 0 0 1 348,837.1699 L348,562.1699 A2.5,2.5 0 0 1 350.5,559.6699" fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="348" x2="411.7778" y1="584.7378" y2="584.7378"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="50.7778" x="352" y="576.6358">models</text></g><!--cluster orm--><g class="cluster" data-entity="orm" data-source-line="19" data-uid="ent0007" id="cluster_orm"><path d="M374.5,623.6699 L404.2699,623.6699 A3.75,3.75 0 0 1 406.7699,626.1699 L413.7699,648.7378 L555.5,648.7378 A2.5,2.5 0 0 1 558,651.2378 L558,813.1699 A2.5,2.5 0 0 1 555.5,815.6699 L374.5,815.6699 A2.5,2.5 0 0 1 372,813.1699 L372,626.1699 A2.5,2.5 0 0 1 374.5,623.6699" fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="372" x2="413.7699" y1="648.7378" y2="648.7378"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="28.7699" x="376" y="640.6358">orm</text></g><!--cluster schemas--><g class="cluster" data-entity="schemas" data-source-line="29" data-uid="ent0012" id="cluster_schemas"><path d="M584.5,605.6699 L646.2878,605.6699 A3.75,3.75 0 0 1 648.7878,608.1699 L655.7878,630.7378 L1127.5,630.7378 A2.5,2.5 0 0 1 1130,633.2378 L1130,809.1699 A2.5,2.5 0 0 1 1127.5,811.6699 L584.5,811.6699 A2.5,2.5 0 0 1 582,809.1699 L582,608.1699 A2.5,2.5 0 0 1 584.5,605.6699" fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="582" x2="655.7878" y1="630.7378" y2="630.7378"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="60.7878" x="586" y="622.6358">schemas</text></g><!--cluster auth--><g class="cluster" data-entity="auth" data-source-line="28" data-uid="ent0010" id="cluster_auth"><path d="M608.5,651.6699 L642.4279,651.6699 A3.75,3.75 0 0 1 644.9279,654.1699 L651.9279,676.7378 L1103.5,676.7378 A2.5,2.5 0 0 1 1106,679.2378 L1106,785.1699 A2.5,2.5 0 0 1 1103.5,787.6699 L608.5,787.6699 A2.5,2.5 0 0 1 606,785.1699 L606,654.1699 A2.5,2.5 0 0 1 608.5,651.6699" fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="606" x2="651.9279" y1="676.7378" y2="676.7378"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="32.9279" x="610" y="668.6358">auth</text></g><!--cluster core--><g class="cluster" data-entity="core" data-source-line="40" data-uid="ent0015" id="cluster_core"><path d="M540.5,316.6699 L571.9919,316.6699 A3.75,3.75 0 0 1 574.4919,319.1699 L581.4919,341.7378 L1116.5,341.7378 A2.5,2.5 0 0 1 1119,344.2378 L1119,506.1699 A2.5,2.5 0 0 1 1116.5,508.6699 L540.5,508.6699 A2.5,2.5 0 0 1 538,506.1699 L538,319.1699 A2.5,2.5 0 0 1 540.5,316.6699" fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="538" x2="581.4919" y1="341.7378" y2="341.7378"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="30.4919" x="542" y="333.6358">core</text></g><!--class AuthService--><g class="entity" data-entity="AuthService" data-source-line="5" data-uid="ent0003" id="entity_AuthService"><rect fill="#F1F1F1" height="118.6158" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="368.0187" x="822" y="130.6699"/><ellipse cx="962.7555" cy="153.3759" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M965.7243,159.0165 Q965.1461,159.3134 964.5055,159.454 Q963.8649,159.6103 963.1618,159.6103 Q960.6618,159.6103 959.3336,157.9697 Q958.0211,156.3134 958.0211,153.1884 Q958.0211,150.0634 959.3336,148.4072 Q960.6618,146.7509 963.1618,146.7509 Q963.8649,146.7509 964.5055,146.9072 Q965.1618,147.0634 965.7243,147.3603 L965.7243,150.079 Q965.0993,149.5009 964.5055,149.2353 Q963.9118,148.954 963.2868,148.954 Q961.943,148.954 961.2555,150.0322 Q960.568,151.0947 960.568,153.1884 Q960.568,155.2822 961.2555,156.3603 Q961.943,157.4228 963.2868,157.4228 Q963.9118,157.4228 964.5055,157.1572 Q965.0993,156.8759 965.7243,156.2978 L965.7243,159.0165 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="47.5203" x="998.4992" y="148.498">&#171;service&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78.0077" x="983.2555" y="166.9799">AuthService</text><line style="stroke:#181818;stroke-width:0.5;" x1="823" x2="1189.0187" y1="176.0819" y2="176.0819"/><line style="stroke:#181818;stroke-width:0.5;" x1="823" x2="1189.0187" y1="184.0819" y2="184.0819"/><ellipse cx="833" cy="199.1159" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="342.0187" x="842" y="203.0479">register(payload: RegisterRequest) : TokenResponse</text><ellipse cx="833" cy="218.1838" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="306.0528" x="842" y="222.1158">login(payload: LoginRequest) : TokenResponse</text><ellipse cx="833" cy="237.2517" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="287.1109" x="842" y="241.1837">refresh(refresh_token: str) : TokenResponse</text></g><!--class UserRepository--><g class="entity" data-entity="UserRepository" data-source-line="13" data-uid="ent0006" id="entity_UserRepository"><rect fill="#F1F1F1" height="99.5479" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="312.3969" x="46" y="373.6699"/><ellipse cx="147.4157" cy="396.3759" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M150.3844,402.0165 Q149.8063,402.3134 149.1657,402.454 Q148.525,402.6103 147.8219,402.6103 Q145.3219,402.6103 143.9938,400.9697 Q142.6813,399.3134 142.6813,396.1884 Q142.6813,393.0634 143.9938,391.4072 Q145.3219,389.7509 147.8219,389.7509 Q148.525,389.7509 149.1657,389.9072 Q149.8219,390.0634 150.3844,390.3603 L150.3844,393.079 Q149.7594,392.5009 149.1657,392.2353 Q148.5719,391.954 147.9469,391.954 Q146.6032,391.954 145.9157,393.0322 Q145.2282,394.0947 145.2282,396.1884 Q145.2282,398.2822 145.9157,399.3603 Q146.6032,400.4228 147.9469,400.4228 Q148.5719,400.4228 149.1657,400.1572 Q149.7594,399.8759 150.3844,399.2978 L150.3844,402.0165 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="35.9162" x="200.4903" y="391.498">&#171;repo&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.0656" x="167.9157" y="409.9799">UserRepository</text><line style="stroke:#181818;stroke-width:0.5;" x1="47" x2="357.3969" y1="419.0819" y2="419.0819"/><line style="stroke:#181818;stroke-width:0.5;" x1="47" x2="357.3969" y1="427.0819" y2="427.0819"/><ellipse cx="57" cy="442.1159" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="196.8532" x="66" y="446.0479">get_by_email(email: str) : User</text><ellipse cx="57" cy="461.1838" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="286.3969" x="66" y="465.1158">create(email: str, password_hash: str) : User</text></g><!--class User--><g class="entity" data-entity="User" data-source-line="20" data-uid="ent0008" id="entity_User"><rect fill="#F1F1F1" height="137.6837" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="152.7555" x="388.5" y="661.6699"/><ellipse cx="442.1016" cy="684.3759" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M445.0704,690.0165 Q444.4923,690.3134 443.8516,690.454 Q443.211,690.6103 442.5079,690.6103 Q440.0079,690.6103 438.6798,688.9697 Q437.3673,687.3134 437.3673,684.1884 Q437.3673,681.0634 438.6798,679.4072 Q440.0079,677.7509 442.5079,677.7509 Q443.211,677.7509 443.8516,677.9072 Q444.5079,678.0634 445.0704,678.3603 L445.0704,681.079 Q444.4454,680.5009 443.8516,680.2353 Q443.2579,679.954 442.6329,679.954 Q441.2891,679.954 440.6016,681.0322 Q439.9141,682.0947 439.9141,684.1884 Q439.9141,686.2822 440.6016,687.3603 Q441.2891,688.4228 442.6329,688.4228 Q443.2579,688.4228 443.8516,688.1572 Q444.4454,687.8759 445.0704,687.2978 L445.0704,690.0165 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="41.0523" x="460.6016" y="679.498">&#171;entity&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30.6179" x="465.8188" y="697.9799">User</text><line style="stroke:#181818;stroke-width:0.5;" x1="389.5" x2="540.2555" y1="707.0819" y2="707.0819"/><ellipse cx="399.5" cy="722.1159" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36.9319" x="408.5" y="726.0479">id: int</text><ellipse cx="399.5" cy="741.1838" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60.9978" x="408.5" y="745.1158">email: str</text><ellipse cx="399.5" cy="760.2517" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126.7555" x="408.5" y="764.1837">password_hash: str</text><ellipse cx="399.5" cy="779.3196" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91.3356" x="408.5" y="783.2516">is_active: bool</text><line style="stroke:#181818;stroke-width:0.5;" x1="389.5" x2="540.2555" y1="791.3536" y2="791.3536"/></g><!--class RegisterRequest--><g class="entity" data-entity="RegisterRequest" data-source-line="29" data-uid="ent0011" id="entity_RegisterRequest"><rect fill="#F1F1F1" height="82.0139" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="139.7856" x="622" y="689.6699"/><ellipse cx="637" cy="712.3759" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M639.9688,718.0165 Q639.3906,718.3134 638.75,718.454 Q638.1094,718.6103 637.4063,718.6103 Q634.9063,718.6103 633.5781,716.9697 Q632.2656,715.3134 632.2656,712.1884 Q632.2656,709.0634 633.5781,707.4072 Q634.9063,705.7509 637.4063,705.7509 Q638.1094,705.7509 638.75,705.9072 Q639.4063,706.0634 639.9688,706.3603 L639.9688,709.079 Q639.3438,708.5009 638.75,708.2353 Q638.1563,707.954 637.5313,707.954 Q636.1875,707.954 635.5,709.0322 Q634.8125,710.0947 634.8125,712.1884 Q634.8125,714.2822 635.5,715.3603 Q636.1875,716.4228 637.5313,716.4228 Q638.1563,716.4228 638.75,716.1572 Q639.3438,715.8759 639.9688,715.2978 L639.9688,718.0165 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="52.3204" x="678.7326" y="707.498">&#171;schema&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107.7856" x="651" y="725.9799">RegisterRequest</text><line style="stroke:#181818;stroke-width:0.5;" x1="623" x2="760.7856" y1="735.0819" y2="735.0819"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:1,2;" x1="623" x2="674.2669" y1="752.6159" y2="752.6159"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35.2519" x="674.2669" y="757.5479">fields</text><line style="stroke:#181818;stroke-width:1;stroke-dasharray:1,2;" x1="709.5187" x2="760.7856" y1="752.6159" y2="752.6159"/></g><!--class LoginRequest--><g class="entity" data-entity="LoginRequest" data-source-line="32" data-uid="ent0013" id="entity_LoginRequest"><rect fill="#F1F1F1" height="82.0139" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="122.2016" x="797" y="689.6699"/><ellipse cx="812" cy="712.3759" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M814.9688,718.0165 Q814.3906,718.3134 813.75,718.454 Q813.1094,718.6103 812.4063,718.6103 Q809.9063,718.6103 808.5781,716.9697 Q807.2656,715.3134 807.2656,712.1884 Q807.2656,709.0634 808.5781,707.4072 Q809.9063,705.7509 812.4063,705.7509 Q813.1094,705.7509 813.75,705.9072 Q814.4063,706.0634 814.9688,706.3603 L814.9688,709.079 Q814.3438,708.5009 813.75,708.2353 Q813.1563,707.954 812.5313,707.954 Q811.1875,707.954 810.5,709.0322 Q809.8125,710.0947 809.8125,712.1884 Q809.8125,714.2822 810.5,715.3603 Q811.1875,716.4228 812.5313,716.4228 Q813.1563,716.4228 813.75,716.1572 Q814.3438,715.8759 814.9688,715.2978 L814.9688,718.0165 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="52.3204" x="844.9406" y="707.498">&#171;schema&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90.2016" x="826" y="725.9799">LoginRequest</text><line style="stroke:#181818;stroke-width:0.5;" x1="798" x2="918.2016" y1="735.0819" y2="735.0819"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:1,2;" x1="798" x2="840.4749" y1="752.6159" y2="752.6159"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35.2519" x="840.4749" y="757.5479">fields</text><line style="stroke:#181818;stroke-width:1;stroke-dasharray:1,2;" x1="875.7268" x2="918.2016" y1="752.6159" y2="752.6159"/></g><!--class TokenResponse--><g class="entity" data-entity="TokenResponse" data-source-line="35" data-uid="ent0014" id="entity_TokenResponse"><rect fill="#F1F1F1" height="82.0139" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="135.9216" x="954" y="689.6699"/><ellipse cx="969" cy="712.3759" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M971.9688,718.0165 Q971.3906,718.3134 970.75,718.454 Q970.1094,718.6103 969.4063,718.6103 Q966.9063,718.6103 965.5781,716.9697 Q964.2656,715.3134 964.2656,712.1884 Q964.2656,709.0634 965.5781,707.4072 Q966.9063,705.7509 969.4063,705.7509 Q970.1094,705.7509 970.75,705.9072 Q971.4063,706.0634 971.9688,706.3603 L971.9688,709.079 Q971.3438,708.5009 970.75,708.2353 Q970.1563,707.954 969.5313,707.954 Q968.1875,707.954 967.5,709.0322 Q966.8125,710.0947 966.8125,712.1884 Q966.8125,714.2822 967.5,715.3603 Q968.1875,716.4228 969.5313,716.4228 Q970.1563,716.4228 970.75,716.1572 Q971.3438,715.8759 971.9688,715.2978 L971.9688,718.0165 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="52.3204" x="1008.8006" y="707.498">&#171;schema&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103.9216" x="983" y="725.9799">TokenResponse</text><line style="stroke:#181818;stroke-width:0.5;" x1="955" x2="1088.9216" y1="735.0819" y2="735.0819"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:1,2;" x1="955" x2="1004.3349" y1="752.6159" y2="752.6159"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35.2519" x="1004.3349" y="757.5479">fields</text><line style="stroke:#181818;stroke-width:1;stroke-dasharray:1,2;" x1="1039.5867" x2="1088.9216" y1="752.6159" y2="752.6159"/></g><!--class AuthUser--><g class="entity" data-entity="AuthUser" data-source-line="41" data-uid="ent0016" id="entity_AuthUser"><rect fill="#F1F1F1" height="137.6837" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="195.1894" x="908.5" y="354.6699"/><ellipse cx="970.8838" cy="377.3759" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M973.8525,383.0165 Q973.2744,383.3134 972.6338,383.454 Q971.9932,383.6103 971.29,383.6103 Q968.79,383.6103 967.4619,381.9697 Q966.1494,380.3134 966.1494,377.1884 Q966.1494,374.0634 967.4619,372.4072 Q968.79,370.7509 971.29,370.7509 Q971.9932,370.7509 972.6338,370.9072 Q973.29,371.0634 973.8525,371.3603 L973.8525,374.079 Q973.2275,373.5009 972.6338,373.2353 Q972.04,372.954 971.415,372.954 Q970.0713,372.954 969.3838,374.0322 Q968.6963,375.0947 968.6963,377.1884 Q968.6963,379.2822 969.3838,380.3603 Q970.0713,381.4228 971.415,381.4228 Q972.04,381.4228 972.6338,381.1572 Q973.2275,380.8759 973.8525,380.2978 L973.8525,383.0165 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="36.1443" x="1004.2726" y="372.498">&#171;auth&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61.9218" x="991.3838" y="390.9799">AuthUser</text><line style="stroke:#181818;stroke-width:0.5;" x1="909.5" x2="1102.6894" y1="400.0819" y2="400.0819"/><ellipse cx="919.5" cy="415.1159" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36.9319" x="928.5" y="419.0479">id: int</text><ellipse cx="919.5" cy="434.1838" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152.3194" x="928.5" y="438.1158">tenant_id: Optional[int]</text><ellipse cx="919.5" cy="453.2517" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121.8135" x="928.5" y="457.1837">roles: Tuple[str, ...]</text><ellipse cx="919.5" cy="472.3196" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="169.1894" x="928.5" y="476.2516">permissions: Tuple[str, ...]</text><line style="stroke:#181818;stroke-width:0.5;" x1="909.5" x2="1102.6894" y1="484.3536" y2="484.3536"/></g><!--class SecurityModule--><g class="entity" data-entity="SecurityModule" data-source-line="48" data-uid="ent0017" id="entity_SecurityModule"><rect fill="#F1F1F1" height="137.6837" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="318.8789" x="554.5" y="354.6699"/><ellipse cx="658.4497" cy="377.3759" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M661.4184,383.0165 Q660.8403,383.3134 660.1997,383.454 Q659.559,383.6103 658.8559,383.6103 Q656.3559,383.6103 655.0278,381.9697 Q653.7153,380.3134 653.7153,377.1884 Q653.7153,374.0634 655.0278,372.4072 Q656.3559,370.7509 658.8559,370.7509 Q659.559,370.7509 660.1997,370.9072 Q660.8559,371.0634 661.4184,371.3603 L661.4184,374.079 Q660.7934,373.5009 660.1997,373.2353 Q659.6059,372.954 658.9809,372.954 Q657.6372,372.954 656.9497,374.0322 Q656.2622,375.0947 656.2622,377.1884 Q656.2622,379.2822 656.9497,380.3603 Q657.6372,381.4228 658.9809,381.4228 Q659.6059,381.4228 660.1997,381.1572 Q660.7934,380.8759 661.4184,380.2978 L661.4184,383.0165 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="51.6844" x="704.3473" y="372.498">&#171;module&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102.4796" x="678.9497" y="390.9799">SecurityModule</text><line style="stroke:#181818;stroke-width:0.5;" x1="555.5" x2="872.3789" y1="400.0819" y2="400.0819"/><line style="stroke:#181818;stroke-width:0.5;" x1="555.5" x2="872.3789" y1="408.0819" y2="408.0819"/><ellipse cx="565.5" cy="423.1159" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="292.8789" x="574.5" y="427.0479">verify_password(plain: str, hashed: str) : bool</text><ellipse cx="565.5" cy="442.1838" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="196.0693" x="574.5" y="446.1158">hash_password(plain: str) : str</text><ellipse cx="565.5" cy="461.2517" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="270.283" x="574.5" y="465.1837">create_access_token(auth: AuthUser) : str</text><ellipse cx="565.5" cy="480.3196" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="275.211" x="574.5" y="484.2516">create_refresh_token(auth: AuthUser) : str</text></g><g class="entity" data-entity="GMN25" data-source-line="66" data-uid="ent0026" id="entity_GMN25"><path d="M1456.5,167.6699 L1456.5,186.1699 L1190.19,190.1699 L1456.5,194.1699 L1456.5,213.0819 A0,0 0 0 0 1456.5,213.0819 L1745.5993,213.0819 A0,0 0 0 0 1745.5993,213.0819 L1745.5993,177.6699 L1735.5993,167.6699 L1456.5,167.6699 A0,0 0 0 0 1456.5,167.6699" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1735.5993,167.6699 L1735.5993,177.6699 L1745.5993,177.6699 L1735.5993,167.6699" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="224.8742" x="1462.5" y="186.5669">Source: app/services/auth_service.py</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="268.0993" x="1462.5" y="204.2729">Handles sign-up, sign-in and token rotation.</text></g><g class="entity" data-entity="GMN28" data-source-line="71" data-uid="ent0029" id="entity_GMN28"><path d="M1460,401.1699 L1460,446.5819 L1758.4332,446.5819 L1758.4332,411.1699 L1748.4332,401.1699 L1460,401.1699" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1748.4332,401.1699 L1748.4332,411.1699 L1758.4332,411.1699 L1748.4332,401.1699" fill="#FEFFDD" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174.5901" x="1466" y="420.0669">Source: app/core/security.py</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="277.4332" x="1466" y="437.7729">Low-level password hashing and JWT helpers.</text></g><!--link AuthService to UserRepository--><g class="link" data-entity-1="AuthService" data-entity-2="UserRepository" data-source-line="57" data-uid="lnk18" id="link_AuthService_UserRepository"><path codeLine="57" d="M821.71,199.3599 C645.8,209.9699 395.42,233.2099 311,281.6699 C274.1,302.8499 248.447,336.7812 229.777,368.4512" fill="none" id="AuthService-to-UserRepository" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="226.73,373.6199,234.7464,367.8982,229.2692,369.3126,227.8548,363.8355,226.73,373.6199" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106.1711" x="312" y="296.5669">load/create users</text></g><!--link UserRepository to User--><g class="link" data-entity-1="UserRepository" data-entity-2="User" data-source-line="58" data-uid="lnk19" id="link_UserRepository_User"><path codeLine="58" d="M244.26,473.6699 C288.11,524.5299 353.1117,599.916 402.2717,656.926" fill="none" id="UserRepository-to-User" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="406.19,661.4699,403.3419,652.0418,402.9248,657.6833,397.2833,657.2662,406.19,661.4699" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45.058" x="303" y="539.5669">returns</text></g><!--link AuthService to RegisterRequest--><g class="link" data-entity-1="AuthService" data-entity-2="RegisterRequest" data-source-line="59" data-uid="lnk20" id="link_AuthService_RegisterRequest"><path codeLine="59" d="M821.96,205.2199 C677.73,220.5099 493.87,250.9199 447,308.6699 C388.74,380.4499 392.34,442.1199 447,516.6699 C477.59,558.3899 515.76,521.8099 558,551.6699 C609.01,587.7399 646.0658,643.9007 668.6258,684.3207" fill="none" id="AuthService-to-RegisterRequest" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="671.55,689.5599,670.6565,679.7517,669.1132,685.1939,663.6709,683.6506,671.55,689.5599" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89.1151" x="448" y="429.0669">input (sign-up)</text></g><!--link AuthService to LoginRequest--><g class="link" data-entity-1="AuthService" data-entity-2="LoginRequest" data-source-line="60" data-uid="lnk21" id="link_AuthService_LoginRequest"><path codeLine="60" d="M1140.07,249.8299 C1150.66,259.0699 1159.96,269.6299 1167,281.6699 C1171.84,289.9399 1167.09,469.9399 1119,516.6699 C1059.93,574.0699 1001.49,500.4199 937,551.6699 C893.99,585.8499 875.0403,642.5003 865.9903,683.6003" fill="none" id="AuthService-to-LoginRequest" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="864.7,689.4599,870.5418,681.5306,865.7752,684.5769,862.729,679.8103,864.7,689.4599" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84.4741" x="1169" y="429.0669">input (sign-in)</text></g><!--link AuthService to TokenResponse--><g class="link" data-entity-1="AuthService" data-entity-2="TokenResponse" data-source-line="61" data-uid="lnk22" id="link_AuthService_TokenResponse"><path codeLine="61" d="M1190.24,240.9099 C1221.05,257.4799 1249.1,279.4799 1268,308.6699 C1318.24,386.2699 1306.42,432.5899 1268,516.6699 C1231.73,596.0599 1154.7708,654.0895 1095.3708,690.0995" fill="none" id="AuthService-to-TokenResponse" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1090.24,693.2099,1100.0098,691.9648,1094.5157,690.6179,1095.8626,685.1237,1090.24,693.2099" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93.5871" x="1302" y="429.0669">output (tokens)</text></g><!--link AuthService to AuthUser--><g class="link" data-entity-1="AuthService" data-entity-2="AuthUser" data-source-line="62" data-uid="lnk23" id="link_AuthService_AuthUser"><path codeLine="62" d="M1006,249.8899 C1006,281.7699 1006,315.3399 1006,348.5699" fill="none" id="AuthService-to-AuthUser" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="1006,354.5699,1010,345.5699,1006,349.5699,1002,345.5699,1006,354.5699" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151.9832" x="1007" y="296.5669">builds identity for tokens</text></g><!--link AuthService to SecurityModule--><g class="link" data-entity-1="AuthService" data-entity-2="SecurityModule" data-source-line="63" data-uid="lnk24" id="link_AuthService_SecurityModule"><path codeLine="63" d="M821.86,249.7799 C806.37,258.9799 791.77,269.5499 779,281.6699 C758.27,301.3399 745.7803,323.3118 735.6603,348.8518" fill="none" id="AuthService-to-SecurityModule" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="733.45,354.4299,740.4841,347.5363,735.2919,349.7815,733.0467,344.5893,733.45,354.4299" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217.6592" x="780" y="296.5669">hash/verify password + mint tokens</text></g><!--link SecurityModule to GMN28--><g class="link" data-entity-1="SecurityModule" data-entity-2="GMN28" data-source-line="71" data-uid="lnk30" id="link_SecurityModule_GMN28"><path d="M792.51,354.3499 C825.89,329.3099 866.72,304.0499 908.5,291.1699 C962.33,274.5799 1361.69,274.5099 1415.5,291.1699 C1485.31,312.7799 1552.36,369.2299 1586.19,401.0399" fill="none" id="SecurityModule-GMN28" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/></g><!--SRC=[ZLJVQzim47xtNo6oXwMiSGfxCwMmxMMCZa7RiOTIZ6fVR55PqdHIIXZzttUoPSS_qdK9nB7kFjsFxxjpmabW7oysXUI8cq_UrRTWzw80jcNek1C5FQmldBUGu9DGXblUiC-yUAgizghyegMsxDtk8doJn921Ly1Mt9WKkwjmnVuaZBKXs3Z4vMNqkBfgFHZxm2nK0XtOjU47gNcPiPjuSWE_FQ0xOncxqq-WRW2DLWWHA7Kbr15r7LxVW5ZOMS1w7P-v2pvPAFWKuYLvcTLdmMWKJbinhV4dXcoZxK1b1iTHZHMu_F6GGyE5NBU_Gz00ZLw51UvWP3zdXcv_rhRCQuxr7BFChz4bI4orRURPKKwWd727KLQ2kYQKYs_7iF5W6Rl7OSuB9_QGiKUjvRyomQAcUp7b989nIZEAWp1Qpo6xDDq9a2McQNjzZnkJ_D-W2QzlekQL5Dh2NC-new6gL_lfG77byd3umpYX5PVtP7tefQWb86dE6mdtBTTfclP60xOHY0GwwK8fzjdSGk4jqVfTbrw6ufhspoYhFLYnE-GzcsiZkL1HNe5PA0TTHJO3AbXEOOBRKGcTOaaDDFFOJTCwD2KRkdJIVp9-hm9QAjwJL2GFxSDQ64p6ssIpkPfFNiR2CjXsSPWd8oOpbnx5uYUZhK3BJYtldeiqi6kyOsiKbTfuSxP0JEJPtZr62BL4JBKP4Dgx5j8s1vU8GNz3_ezUa7n9Vjs4intjvmwz0C_aGk1LO7hRYMGOUQAg8Qt6MrP9eZIrquggTaplnYizkTNU5hG9Q5Is_VhV1ahp-9QQG_ALgvBapcBZpbdi1wFpBWZDWsjfJXEWin1l7dMQ-oHmc56Atjb3m6lzl96m1taiATGfLDM6_FRhZjKWQSnm5Eyl]--></g></svg>